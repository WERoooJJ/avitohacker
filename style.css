/* ===========================
   MarketPlace — Light Theme UI
   =========================== */

/* Light palette (default) */
:root{
  --bg:#f6f8fb;
  --surface:#ffffff;
  --surface-soft:#fbfdff;
  --text:#0f172a;           /* slate-900 */
  --muted:#475569;          /* slate-600 */
  --line:#e8eef6;           /* soft border */
  --shadow:0 10px 24px rgba(15, 23, 42, .06);

  --primary:#2563eb;        /* blue-600 */
  --primary-2:#7c3aed;      /* violet-600 */
  --primary-3:#059669;      /* emerald-600 */

  --chip-bg:#f1f5f9;        /* slate-100 */
  --chip-line:#e2e8f0;

  --toast-bg:#0b1220;       /* deep slate */
  --backdrop:rgba(15,23,42,.32);
}

/* Dark fallback for users с тёмной темой ОС */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b1020;
    --surface:#101528;
    --surface-soft:#0c1224;
    --text:#e6e9f5;
    --muted:#9aa5bf;
    --line:#1b2542;
    --shadow:0 12px 28px rgba(0,0,0,.45);

    --primary:#6ea8ff;
    --primary-2:#8b6cff;
    --primary-3:#22c39a;

    --chip-bg:#0f152a;
    --chip-line:#1a2446;

    --toast-bg:#0b1220;
    --backdrop:rgba(0,0,0,.45);
  }
}

/* Resets */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
img{ max-width:100%; display:block }

/* Base layout */
html,body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1100px 600px at 85% -15%, rgba(124,92,255,.12), transparent 60%),
    radial-gradient(800px 520px at -10% 10%, rgba(37,99,235,.10), transparent 60%),
    linear-gradient(180deg, var(--bg) 0%, #ffffff 140%);
}

/* Useful utils */
[hidden]{ display:none !important; }
.muted{ opacity:.72 }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace }
a{ color:inherit; text-decoration:none }

/* Containers & Grid */
.container{ width:min(1100px,92vw); margin:0 auto; padding:18px }
.grid{ display:grid; gap:16px }
.grid--3{ grid-template-columns:repeat(auto-fill, minmax(260px,1fr)) }
.grid--2{ grid-template-columns:repeat(auto-fill, minmax(340px,1fr)) }

/* Cards */
.card{
  background:var(--surface);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:18px;
}
.card--soft{
  background:
    linear-gradient(180deg, rgba(255,255,255,.6), rgba(255,255,255,.4)),
    var(--surface-soft);
}

/* Header / Nav */
.header--glass{
  position:sticky; top:0; z-index:20;
  background:
    linear-gradient(135deg, rgba(255,255,255,.85) 0%, rgba(255,255,255,.75) 100%);
  backdrop-filter: saturate(120%) blur(10px);
  border-bottom:1px solid var(--line);
  box-shadow: var(--shadow);
}
.nav-wrap{ padding-block:10px }
.nav{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.nav__brand{ font-weight:800; letter-spacing:.2px }
.nav__links{ display:flex; align-items:center; gap:14px }
.nav__links a{
  position:relative; padding:8px 6px; border-radius:10px;
}
.nav__links a::after{
  content:""; position:absolute; left:8px; right:8px; bottom:4px; height:2px;
  background: linear-gradient(90deg, var(--primary), var(--primary-2));
  transform:scaleX(0); transform-origin:left; transition:transform .22s ease;
  border-radius:2px;
}
.nav__links a:hover::after, .nav__links a.active::after{ transform:scaleX(1) }
.divider{ width:1px; height:22px; background:var(--line); margin:0 4px }
.balance,.user{ font-weight:700 }

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 16px; border-radius:12px; border:0; cursor:pointer;
  font-weight:700; color:#fff;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: 0 8px 20px rgba(37, 99, 235, .18);
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.btn:hover{ transform: translateY(-2px); box-shadow:0 12px 26px rgba(37,99,235,.22) }
.btn:active{ transform: translateY(0) scale(.98) }
.btn--ghost{
  background:transparent; color:var(--text); border:1px solid var(--line);
  box-shadow:none;
}
.btn--ghost:hover{ background:rgba(2,16,64,.04) }

/* Badges & Chips */
.badge{
  display:inline-block; padding:6px 10px; border-radius:999px;
  background:var(--chip-bg); border:1px solid var(--chip-line);
  font-size:.86rem; font-weight:600;
}

/* Listing bits */
.price{ font-size:1.2rem; font-weight:800 }
.card .row{ display:flex; gap:10px; align-items:center; justify-content:space-between }
.thumb{
  aspect-ratio:16/10;
  background:
    linear-gradient(135deg, rgba(2,16,64,.04), rgba(2,16,64,.02)),
    var(--surface-soft);
  border:1px dashed var(--line);
  border-radius:12px; display:grid; place-items:center;
  color:var(--muted); font-weight:600;
}

/* Sections */
.view h2{ margin:0 0 10px 0 }

/* Footer */
.footer{ margin-top:28px; background:linear-gradient(180deg, rgba(255,255,255,.8), rgba(255,255,255,.6)) }
.footer__grid{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding-block:12px;
}
.footer__brand{ opacity:.85 }
.footer__links{ display:flex; gap:14px }

/* Toast */
.toast{
  position:fixed; left:50%; bottom:22px; transform:translateX(-50%);
  background:var(--toast-bg); color:#fff; padding:12px 16px; border-radius:12px;
  box-shadow:var(--shadow); opacity:0; pointer-events:none;
  transition: opacity .2s, transform .2s; z-index:60;
}
.toast.show{ opacity:1; transform:translateX(-50%) translateY(-6px) }

/* Modal (login) & Win overlay */
.modal, .win{
  position:fixed; inset:0; display:grid; place-items:center; z-index:70;
  background: var(--backdrop);
}
.modal__box, .win__box{
  width:min(560px,96vw);
  background:var(--surface); border:1px solid var(--line);
  border-radius:16px; box-shadow:var(--shadow); padding:18px;
}

/* Form inputs */
.inp{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid var(--line); background:#fff; color:var(--text);
  transition:border-color .15s ease, box-shadow .15s ease, background .15s;
}
.inp:focus{
  outline:none; border-color: color-mix(in oklab, var(--primary), #000 10%);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--primary), #fff 85%);
  background:#fff;
}
.lbl{ display:block; margin-bottom:6px; opacity:.9 }

/* Tables (admin) */
.tbl{ width:100%; border-collapse:collapse; background:var(--surface); border-radius:14px; overflow:hidden }
.tbl th, .tbl td{
  padding:10px 12px; border-bottom:1px solid var(--line); text-align:left; vertical-align:middle
}
.tbl thead th{
  background: linear-gradient(180deg, rgba(2,16,64,.04), rgba(2,16,64,.02));
  font-weight:800; font-size:.92rem;
}
.table-wrap{ overflow:auto }

/* Small motion polish */
@media (prefers-reduced-motion: no-preference){
  .nav__links a{ transition: background .18s ease }
  .card{ transition: transform .18s ease, box-shadow .18s ease }
  .card:hover{ transform: translateY(-2px); box-shadow: 0 12px 28px rgba(15,23,42,.08) }
}
